(this.webpackJsonpgdocwiki=this.webpackJsonpgdocwiki||[]).push([[0],{183:function(e,t,n){e.exports={contentContainer:"Page_contentContainer__1L1CU"}},246:function(e,t,n){},247:function(e,t,n){},248:function(e,t,n){"use strict";n.r(t);var i=n(14),a=n(0),c=n.n(a),r=n(90),o=n.n(r),s=n(25),l=n(36),d=n.n(l),u=n(50),j=n(291),b=n(98);var p=n(290),v=n(286),O=n(279),h=n(292),f=n(293),g=n(68),x=n(20),m=n(3),k=n(97);function y(){var e=Object(a.useState)(gapi.auth2.getAuthInstance().isSignedIn.get()),t=Object(s.a)(e,2),n=t[0],c=t[1];Object(b.a)("gSignedInChange",(function(e){c(e.payload.signedIn)}),[]);var r=Object(a.useMemo)((function(){return n?gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile():null}),[n]),o=Object(a.useCallback)((function(){gapi.auth2.getAuthInstance().signIn()}),[]),l=Object(a.useCallback)((function(){gapi.auth2.getAuthInstance().signOut()}),[]);return n?Object(i.jsx)(O.a,{"aria-label":"Sign Out",onClick:l,children:Object(i.jsx)(k.a,{name:r.getName(),src:r.getImageUrl(),size:"30",round:!0})}):Object(i.jsx)(O.a,{"aria-label":"Sign In",onClick:o,children:Object(i.jsx)(m.ld,{})})}var w=c.a.memo(y),C=n(70),I=n(34),S=n(184),E=n(280),A=n(129),T=n.n(A),_="0AIURj86T5hpoUk9PVA",U=c.a.createContext({loading:!0});function M(e){var t=e.children,n=Object(a.useState)({loading:!0}),c=Object(s.a)(n,2),r=c[0],o=c[1],l=Object(a.useCallback)(Object(u.a)(d.a.mark((function e(){var t,n,i,a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o((function(e){return Object(I.a)(Object(I.a)({},e),{},{loading:!0})})),e.prev=1,e.next=4,gapi.client.drive.files.list({corpora:"drive",driveId:_,includeItemsFromAllDrives:!0,supportsAllDrives:!0,pageSize:500,q:"trashed = false",fields:"nextPageToken, files(name, id, parents, mimeType, modifiedTime, lastModifyingUser(displayName, photoLink))"});case 4:i=e.sent,console.log("files.list",_,i),a=null!==(t=null===(n=i.result.files)||void 0===n?void 0:n.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{children:[]})})))&&void 0!==t?t:[],c={},r={},a.forEach((function(e){var t,n;0!==(null!==(t=null===(n=e.parents)||void 0===n?void 0:n.length)&&void 0!==t?t:0)?(void 0===c[e.parents[0]]&&(c[e.parents[0]]=[]),c[e.parents[0]].push(e)):console.log("File does not have parents",e)})),null===a||void 0===a||a.forEach((function(e){var t,n;e.children=null!==(t=c[null!==(n=e.id)&&void 0!==n?n:""])&&void 0!==t?t:[]})),null===a||void 0===a||a.forEach((function(e){var t;r[null!==(t=e.id)&&void 0!==t?t:""]=e})),o((function(e){var t;return Object(I.a)(Object(I.a)({},e),{},{data:null!==(t=c[_])&&void 0!==t?t:[],dataFlat:r})}));case 13:return e.prev=13,o((function(e){return Object(I.a)(Object(I.a)({},e),{},{loading:!1})})),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,,13,16]])}))),[]);return Object(j.a)((function(){l()})),Object(i.jsx)(U.Provider,{value:r,children:t})}function F(){return Object(a.useContext)(U)}var L=n(16),N=n.n(L),P=n(58),B=n.n(P);function G(){}function z(e,t){if(e)return e.map((function(e){var n=e.children,a=e.isExpanded,c=Object(S.a)(e,["children","isExpanded"]);return Object(i.jsx)(A.TreeNode,Object(I.a)(Object(I.a)({isExpanded:null!==t&&void 0!==t?t:a,onToggle:G},c),{},{children:z(n,t)}),c.id)}))}function D(e){var t;return null===(t=null!==e&&void 0!==e?e:[])||void 0===t?void 0:t.map((function(e){var t={};return"application/vnd.google-apps.folder"===e.mimeType&&(t.children=D(e.children)),Object(I.a)({id:e.id,label:e.name,value:e},t)}))}function H(e){var t=e.isExpanded,n=void 0===t||t,c=F(),r=c.loading,o=c.data,s=Object(a.useMemo)((function(){return D(o)}),[o]),l=Object(x.f)(),d=Object(a.useCallback)((function(e,t){var n=t.value;l.push("/view/".concat(n.id))}),[]);return Object(i.jsxs)("div",{className:N()(B.a.sider,Object(C.a)({},B.a.isExpanded,n)),children:[r&&Object(i.jsx)("div",{className:B.a.skeleton,children:Object(i.jsx)(E.a,{paragraph:!0})}),!r&&Object(i.jsx)(T.a,{label:"Table of Content",selected:[],onSelect:d,children:z(s,!1)})]})}var R=c.a.memo(H);function q(e){var t=e.isExpanded,n=void 0===t||t,a=e.children;return Object(i.jsx)("div",{className:N()(B.a.content,Object(C.a)({},B.a.isExpanded,n)),children:a})}var W=c.a.memo(q),J=n(8),Y=n(5),K=n(4),V=n(10);function Z(){return Object(i.jsxs)("div",{children:[Object(i.jsx)(E.a,{heading:!0}),Object(i.jsx)(E.a,{paragraph:!0,lineCount:10})]})}var Q=n(132),X=n.n(Q),$=n(178),ee=n.n($),te=n(288);function ne(e){var t,n,c,r=e.file,o=Object(a.useState)(""),l=Object(s.a)(o,2),j=l[0],b=l[1],p=Object(a.useState)(!0),v=Object(s.a)(p,2),O=v[0],h=v[1];return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,n,i,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),b(""),e.prev=2,e.next=5,gapi.client.drive.files.export({fileId:r.id,mimeType:"text/html"});case 5:t=e.sent,console.log("files.export",r.id,t),n=new DOMParser,i=n.parseFromString(t.body,"text/html"),(a=i.querySelector("body"))?(i.querySelectorAll("style").forEach((function(e){return a.appendChild(e)})),b(a.innerHTML)):b("Error?");case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,,11,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r.id]),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{style:{marginBottom:32},children:Object(i.jsx)(te.a,{tokens:{childrenGap:16},children:Object(i.jsxs)(te.a,{verticalAlign:"center",horizontal:!0,tokens:{childrenGap:16},children:[Object(i.jsx)(k.a,{name:null===(t=r.lastModifyingUser)||void 0===t?void 0:t.displayName,src:null===(n=r.lastModifyingUser)||void 0===n?void 0:n.photoLink,size:"20",round:!0}),Object(i.jsxs)("span",{children:["Last modified by ",null===(c=r.lastModifyingUser)||void 0===c?void 0:c.displayName," ",X()(r.modifiedTime).fromNow()]})]})})}),O&&Object(i.jsx)(Z,{}),!O&&Object(i.jsx)("div",{dangerouslySetInnerHTML:{__html:j}})]})}X.a.extend(ee.a);var ie=n(289),ae=n(287),ce=n(9),re=n(183),oe=n.n(re);function se(e){var t=e.error,n=Object(a.useCallback)((function(){gapi.auth2.getAuthInstance().signIn()}),[]);return gapi.auth2.getAuthInstance().isSignedIn.get()?Object(i.jsx)(ie.a,{kind:"error",subtitle:Object(i.jsxs)(te.a,{tokens:{childrenGap:8},style:{marginTop:8},children:[Object(i.jsxs)("div",{children:["You are signed in with"," ",gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile().getEmail(),"."]}),Object(i.jsx)("div",{children:"Are you using the incorrect Google account, or typing a wrong URL?"})]}),title:"Failed to load content: ".concat(t.message),hideCloseButton:!0}):Object(i.jsx)(ie.a,{kind:"error",actions:Object(i.jsx)(ie.b,{onClick:n,children:"Sign In"}),subtitle:Object(i.jsx)("div",{style:{marginTop:8},children:"You may need to sign-in to view the content."}),title:"Failed to load content: ".concat(t.message),hideCloseButton:!0})}function le(e){return Object(i.jsx)(Y.Rb,{})}function de(){return Object(i.jsx)("div",{children:Object(i.jsx)(ce.zd,{})})}function ue(){var e,t=Object(x.g)().id,n=Object(a.useState)(void 0),c=Object(s.a)(n,2),r=c[0],o=c[1],l=Object(a.useState)(!0),j=Object(s.a)(l,2),b=j[0],p=j[1],v=Object(a.useState)(null),O=Object(s.a)(v,2),h=O[0],f=O[1],g=Object(x.f)(),m=F();Object(a.useEffect)((function(){var e;function n(){return(n=Object(u.a)(d.a.mark((function e(){var n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),f(null),o(void 0),e.prev=3,e.next=6,gapi.client.drive.files.get({supportsAllDrives:!0,fileId:t,fields:"*"});case 6:n=e.sent,console.log("files.get",t,n),o(n.result),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),(null===e.t0||void 0===e.t0||null===(i=e.t0.result)||void 0===i?void 0:i.error)?f(e.t0.result.error):e.t0.message?f(e.t0):(console.log(e.t0),f(new Error("Unknown error")));case 14:return e.prev=14,p(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,11,14,17]])})))).apply(this,arguments)}void 0===(null===(e=m.dataFlat)||void 0===e?void 0:e[t])?function(){n.apply(this,arguments)}():(p(!1),f(null),o(m.dataFlat[t]))}),[t]);var k=Object(a.useMemo)((function(){var e=[];if(!(null===r||void 0===r?void 0:r.id))return e;for(var t=r.id,n=function(){var n,i=null===(n=m.dataFlat)||void 0===n?void 0:n[t];return i&&i.name&&i.id?(e.push({text:i.name,key:i.id,onClick:function(){return g.push("/view/".concat(i.id))}}),i.parents?void(t=i.parents[0]):"break"):"break"};t;){if("break"===n())break}return e.push({text:"Wiki Root",key:"root",onClick:function(){return g.push("/")}}),e.reverse()}),[m.data,m.dataFlat,r]),y=null;if(!b)switch(null!==(e=null===r||void 0===r?void 0:r.mimeType)&&void 0!==e?e:""){case"application/vnd.google-apps.document":y=Object(i.jsx)(ne,{file:r})}return Object(i.jsxs)("div",{className:oe.a.contentContainer,children:[k.length>0&&Object(i.jsx)("div",{style:{marginBottom:16},children:Object(i.jsx)(ae.a,{items:k,dividerAs:le,onRenderOverflowIcon:de})}),b&&Object(i.jsx)(Z,{}),!b&&h&&Object(i.jsx)(se,{error:h}),!b&&y]})}var je=function(){var e=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(a.useCallback)(Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){Object(b.b)({type:"gSignedInChange",payload:{signedIn:e}})},e.prev=1,e.next=4,gapi.client.init({apiKey:"AIzaSyCr53G4OrNdOpjjejsM4wStjW_Uagudq8E",clientId:"814839399439-cm9t983r5374hk28v5lt5ne75i6eit6c.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],scope:"https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/documents"});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:gapi.auth2.getAuthInstance().isSignedIn.listen(t),i(!0);case 11:case"end":return e.stop()}}),e,null,[[1,6]])}))),[]);return Object(j.a)((function(){gapi.load("client:auth2",c)})),{gapiLoaded:n}}().gapiLoaded,t=Object(a.useState)(!0),n=Object(s.a)(t,2),c=n[0],r=n[1],o=Object(a.useCallback)((function(){return r(!0)}),[]),l=Object(a.useCallback)((function(){return r(!1)}),[]);return e?Object(i.jsx)(g.a,{children:Object(i.jsxs)(M,{children:[Object(i.jsxs)(v.a,{children:[!c&&Object(i.jsx)(O.a,{"aria-label":"Open TOC",onClick:o,children:Object(i.jsx)(J.Ld,{})},"open"),c&&Object(i.jsx)(O.a,{"aria-label":"Close TOC",onClick:l,children:Object(i.jsx)(Y.Tc,{})},"close"),c&&Object(i.jsx)(O.a,{"aria-label":"Expand All",children:Object(i.jsx)(K.P,{})},"expand"),c&&Object(i.jsx)(O.a,{"aria-label":"Collapse All",children:Object(i.jsx)(V.tb,{})},"collapse"),Object(i.jsx)(h.a,{href:"#",prefix:"Gdoc Wiki:",children:"Home"}),Object(i.jsx)(f.a,{children:Object(i.jsx)(w,{})}),Object(i.jsx)(R,{isExpanded:c})]}),Object(i.jsx)(W,{isExpanded:c,children:Object(i.jsx)(x.c,{children:Object(i.jsx)(x.a,{path:"/view/:id",children:Object(i.jsx)(ue,{})})})})]})}):Object(i.jsx)(p.a,{description:"Loading Google API"})};n(246),n(247);o.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(je,{})}),document.getElementById("root"))},58:function(e,t,n){e.exports={sider:"Sider_sider__1kHOw",isExpanded:"Sider_isExpanded__3omga",skeleton:"Sider_skeleton__2FZhs",content:"Sider_content__2toHh"}}},[[248,1,2]]]);
//# sourceMappingURL=main.0962c9a9.chunk.js.map